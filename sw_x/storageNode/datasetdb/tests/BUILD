cpp_binary(
    name = 'TestDatasetDB',
    includes = ['../include'],
    cxxflags = '-DTESTDATASETDB',
    srcs = [
        '../src/DatasetDB.cpp',
        'TestDatasetDB.cpp', 
        'Test.cpp', 
        'TestRun.cpp', 
        'utils.cpp',
        'TestOpenClose.cpp',
        'TestDatasetVersion.cpp',
        'TestComponentPath.cpp',
        'TestComponentMTime.cpp',
        'TestComponentSize.cpp',
        'TestComponentHash.cpp',
        'TestComponentVersion.cpp',
        'TestComponentPermission.cpp',
        'TestComponentMetadata.cpp',
        'TestTrashComponent.cpp',
        'TestMoveComponent.cpp',
        'TestCopyComponent.cpp',
        'TestDBConstraint.cpp',
        'TestListComponents.cpp',
        'TestCreateComponent.cpp',
        'TestCreateComponentAncestryList.cpp',
        'TestTransaction.cpp',
        'TestReplacePrefix.cpp',
    ],
    deps = [
        '/gvm_core/internal/datasetdb:libdatasetdb',
        '/gvm_core/vplex:libvplex',
    ]
)
